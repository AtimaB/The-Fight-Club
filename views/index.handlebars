<h1 id="header">Welcome to THE FIGHT CLUB</h1>
	<!-- Rules!-->
	<div class="row" style="margin: 20px;">

		<p style="font-size: 18px; margin: 30px;">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quod ducimus
			consequatur repudiandae et impedit excepturi mollitia quis, exercitationem hic quos blanditiis, laborum
			minima eum cupiditate voluptates a, veritatis reiciendis eius? Lorem ipsum dolor sit amet consectetur
			adipisicing elit. Quam laborum pariatur cupiditate obcaecati. Commodi nostrum tempora quae pariatur
			molestias necessitatibus mollitia sunt est, consectetur culpa ratione ipsa nisi et eum.
			<br>Highscore:{{ highscore }}
		</p>
		<div class="col s4 m4 l4 offset-s4" style="margin-top: 40px;">
			<!-- start game button !-->
			<textarea id="person-name" class="materialize-textarea" style="background-color: white;" name="name"
				value="" id="enter_text"></textarea>
			<button type="submit" class="start btn-large col s4 offset-s4" id="start"><i class="fas fa-play"></i>
				Play</button>
			<!-- Image!-->
			<div class="row" style="float: right; margin-top: 80px;">
				<div class=" col s12 m6 l6">
					<img src="players.png" style="width: 80px; height: 150px;" alt="players">
				</div>
			</div>
		</div>
	</div>

	<!-- Audio !-->
	<audio controls id= "audio1">
		<source src="fightclub.mp3" type="audio/mpeg" onloadeddata="setHalfVolume()">
	</audio>


<!-- logo effect !-->
<canvas id="scene"></canvas>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"></script>

<script>
	var canvas = document.getElementById('scene');
	var ctx = canvas.getContext("2d");
	var particles = [];

	var png = new Image();
	png.src = "/assets/images/logoSmall_S.png";
	png.onload = drawImg;

	function drawImg() {
		canvas.width = png.width * 6;
		canvas.height = png.height * 6;

		ctx.drawImage(png, 0, 0);

		var data = ctx.getImageData(0, 0, png.width, png.height);
		ctx.clearRect(0, 0, canvas.width, canvas.height);

		for (var y = 0; y < data.height; y++) {
			for (var x = 0; x < data.width; x++) {
				var p = (x + y * data.width) * 4;

				if (data.data[p + 3] > 129) {
					var particle = {
						x0: x,
						y0: y,
						x1: png.width / 3,
						y1: png.height / 3,
						speed: Math.random() * 1 + 1,
						color: `rgb(${data.data[p]},
										${data.data[p + 1]},
										${data.data[p + 2]})`
					}
					TweenMax.to(particle, particle.speed, {
						x1: particle.x0,
						y1: particle.y0,
						delay: y / 40,
						ease: Elastic.easeOut
					})
					particles.push(particle)
				}
			}
		}
		requestAnimationFrame(render);
	}

	var render = function () {
		ctx.clearRect(0, 0, canvas.width, canvas.height);
		for (var i = 0; i < particles.length; i++) {
			var particle = particles[i];
			ctx.fillStyle = particle.color;
			ctx.fillRect(particle.x1 * 3, particle.y1 * 3, 3, 3);
		}
		requestAnimationFrame(render);
	};
</script>